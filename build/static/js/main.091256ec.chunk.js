(this["webpackJsonpguest-book-app"]=this["webpackJsonpguest-book-app"]||[]).push([[0],{14:function(e,t,n){e.exports={container:"Comments_container__3pNxa",itemForm:"Comments_itemForm__2RBwY",itemFormText:"Comments_itemFormText__20Qk6",wrapper:"Comments_wrapper__351Hz"}},216:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(19),o=n.n(r),s=(n(94),n(4)),m=n(11),c=n(5),i=n.n(c),l=n(15),u=n(35),d=n(1);function j(e){function t(e){var t;return e||(t="Required"),t}function n(e){var t;return"admin"===e&&(t="Nice try!"),t}var a=u.a().shape({name:u.b().required("this is required!").min(2,"write full your name please!").matches(/^[a-zA-Z-1234567890_]+$/,"Not in correct format"),comment:u.b().required("this is required!").min(2,"write pleace more!")}),r=function(t){var n={name:t.name,comment:t.comment};t.name.length>0&&t.comment.length>0&&e.hendlerCommentNew(n),t.comment=""};return Object(d.jsx)(l.d,{initialValues:{name:"",comment:""},onSubmit:function(e){r(e)},validationSchema:a,children:function(a){return Object(d.jsxs)(l.c,{onKeyPress:function(e){e.ctrlKey&&"Enter"===e.code&&r(a.values)},children:[Object(d.jsxs)("div",{className:i.a.form,children:[Object(d.jsx)(l.a,{name:"name",component:"span",className:i.a.spanFormNameError}),Object(d.jsx)("label",{htmlFor:"name",className:i.a.labelCommentForm,children:"Your name:"}),Object(d.jsx)(l.b,{className:i.a.inputForm,type:"name",name:"name",placeholder:"Write in this area",validate:n}),Object(d.jsx)(l.a,{name:"comment",component:"span",className:i.a.spanFormCommentError}),Object(d.jsx)("label",{htmlFor:"comment",className:i.a.labelCommentForm,children:"Your comment:"}),Object(d.jsx)(l.b,{className:i.a.textareaForm,as:"textarea",type:"comment",name:"comment",placeholder:"Write in this area",validate:t}),Object(d.jsxs)("div",{className:i.a.advertising,children:[Object(d.jsx)("p",{className:i.a.advertisingText,children:"Your ad could be here !"}),200===e.message&&Object(d.jsx)("p",{className:i.a.advertisingTextOk,children:"Ok, add your message !!!"}),400===e.message&&Object(d.jsx)("p",{className:i.a.advertisingTextError,children:"Error try again !!!"})]})]}),Object(d.jsx)("button",{className:i.a.buttonForm,type:"submit",children:"Add Comment"})]})}})}var p=n(218),_=n(217),b=n(14),x=n.n(b),h=n(86),O=n.n(h);function N(e){return Object(d.jsx)(p.a,{component:"ul",className:x.a.container,children:e.comments.map((function(e){return Object(d.jsx)(_.a,{timeout:500,classNames:O.a,children:Object(d.jsxs)("li",{className:x.a.itemForm,children:[Object(d.jsxs)("div",{className:x.a.wrapper,children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{className:x.a.itemFormText,children:"Said: "}),e.name]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{className:x.a.itemFormText,children:"in "})," ",e.time]})]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{className:x.a.itemFormText,children:"Comment: "}),e.comment]})]},e._id)},e._id)}))})}var v=n(48),f=n.n(v),F=n(49),g=n.n(F),k=n(87),C=n.n(k);function E(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),c=Object(m.a)(o,2),i=c[0],l=c[1];Object(a.useEffect)((function(){g.a.get("/comments").then((function(e){r(e.data.reverse())})).catch((function(e){return console.log(e)}))}),[]);return Object(d.jsxs)("div",{className:f.a.container,children:[Object(d.jsx)("h1",{className:f.a.title,children:"Welcome to the guest book!"}),Object(d.jsx)(j,{hendlerCommentNew:function(e){var t=JSON.stringify(e);g.a.post("/comments/add",t,{headers:{"Content-Type":"application/json"}}).then((function(e){r([e.data].concat(Object(s.a)(n))),l(e.status)})).catch((function(e){l(400)}))},message:i}),Object(d.jsx)(_.a,{in:!!n[0],classNames:C.a,timeout:250,unmountOnExit:!0,children:Object(d.jsx)(N,{comments:n})})]})}o.a.render(Object(d.jsx)(E,{}),document.getElementById("root"))},48:function(e,t,n){e.exports={container:"App_container__399jS",title:"App_title__jqDEk"}},5:function(e,t,n){e.exports={form:"GuestBook_form__EwsHX",textareaForm:"GuestBook_textareaForm__2AXG2",inputForm:"GuestBook_inputForm__3MXba",buttonForm:"GuestBook_buttonForm__1CC4z",labelCommentForm:"GuestBook_labelCommentForm__2SIMd",advertising:"GuestBook_advertising__3rnlC",advertisingTextOk:"GuestBook_advertisingTextOk__1ohN-",advertisingTextError:"GuestBook_advertisingTextError__RANYI",spanFormNameError:"GuestBook_spanFormNameError__zUqEC",spanFormCommentError:"GuestBook_spanFormCommentError__3JCix"}},86:function(e,t,n){e.exports={enter:"TransitionGroup_enter__1KFSL",enterActive:"TransitionGroup_enterActive__2ExOF"}},87:function(e,t,n){e.exports={enter:"AppAnimation_enter__METXN",enterActive:"AppAnimation_enterActive__woHMl"}},94:function(e,t,n){}},[[216,1,2]]]);
//# sourceMappingURL=main.091256ec.chunk.js.map