{"version":3,"sources":["components/Comments/Comments.module.css","components/GuestBook/GuestBook.jsx","components/Comments/Comments.jsx","App.js","index.js","components/GuestBook/GuestBook.module.css","App.module.css","components/Comments/TransitionGroup.module.css","AppAnimation.module.css"],"names":["module","exports","GuestBook","props","validateComment","value","error","validateName","validationComment","Yup","shape","name","required","min","matches","comment","SubmitComment","data","length","hendlerCommentNew","initialValues","onSubmit","validationSchema","onKeyPress","e","ctrlKey","code","values","className","styles","form","component","spanFormNameError","htmlFor","labelCommentForm","inputForm","type","placeholder","validate","spanFormCommentError","textareaForm","as","advertising","advertisingText","message","advertisingTextOk","advertisingTextError","buttonForm","Comments","TransitionGroup","container","comments","map","el","CSSTransition","timeout","classNames","transitionGroup","itemForm","wrapper","itemFormText","time","_id","App","useState","setMessage","useEffect","axios","get","then","res","setState","reverse","catch","console","log","title","dataJSON","JSON","stringify","post","headers","state","unshift","status","in","appAnimation","unmountOnExit","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.71674ab5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Comments_container__3pNxa\",\"itemForm\":\"Comments_itemForm__2RBwY\",\"itemFormText\":\"Comments_itemFormText__20Qk6\",\"wrapper\":\"Comments_wrapper__351Hz\"};","import React, { useEffect, useState } from \"react\"\r\nimport styles from \"./GuestBook.module.css\"\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\"\r\nimport * as Yup from \"yup\"\r\n\r\nexport default function GuestBook(props) {\r\n  function validateComment(value) {\r\n    let error\r\n    if (!value) {\r\n      error = \"Required\"\r\n    }\r\n    return error\r\n  }\r\n\r\n  function validateName(value) {\r\n    let error\r\n    if (value === \"admin\") {\r\n      error = \"Nice try!\"\r\n    }\r\n    return error\r\n  }\r\n\r\n  const validationComment = Yup.object().shape({\r\n    name: Yup.string()\r\n      .required(\"this is required!\")\r\n      .min(2, \"write full your name please!\")\r\n      .matches(/^[a-zA-Z-1234567890_]+$/, \"Not in correct format\"),\r\n    comment: Yup.string().required(\"this is required!\").min(2, \"write pleace more!\"),\r\n  })\r\n\r\n  const SubmitComment = (value) => {\r\n    let data = {\r\n      name: value.name,\r\n      comment: value.comment,\r\n    }\r\n    value.name.length > 0 && value.comment.length > 0 && props.hendlerCommentNew(data)\r\n    value.comment = \"\"\r\n  }\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{ name: \"\", comment: \"\" }}\r\n      onSubmit={(value) => {\r\n        SubmitComment(value)\r\n      }}\r\n      validationSchema={validationComment}\r\n    >\r\n      {(value) => (\r\n        <Form\r\n          onKeyPress={(e) => {\r\n            if (e.ctrlKey && e.code === \"Enter\") {\r\n              SubmitComment(value.values)\r\n            }\r\n          }}\r\n        >\r\n          <div className={styles.form}>\r\n            <ErrorMessage name=\"name\" component=\"span\" className={styles.spanFormNameError} />\r\n            <label htmlFor=\"name\" className={styles.labelCommentForm}>\r\n              Your name:\r\n            </label>\r\n            <Field\r\n              className={styles.inputForm}\r\n              type=\"name\"\r\n              name=\"name\"\r\n              placeholder=\"Write in this area\"\r\n              validate={validateName}\r\n            />\r\n            <ErrorMessage name=\"comment\" component=\"span\" className={styles.spanFormCommentError} />\r\n            <label htmlFor=\"comment\" className={styles.labelCommentForm}>\r\n              Your comment:\r\n            </label>\r\n            <Field\r\n              className={styles.textareaForm}\r\n              as=\"textarea\"\r\n              type=\"comment\"\r\n              name=\"comment\"\r\n              placeholder=\"Write in this area\"\r\n              validate={validateComment}\r\n            />\r\n            <div className={styles.advertising}>\r\n              <p className={styles.advertisingText}>Your ad could be here !</p>\r\n              {props.message === 200 && <p className={styles.advertisingTextOk}>Ok, add your message !!!</p>}\r\n              {props.message === 400 && <p className={styles.advertisingTextError}>Error try again !!!</p>}\r\n            </div>\r\n          </div>\r\n          <button className={styles.buttonForm} type=\"submit\">\r\n            Add Comment\r\n          </button>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\"\r\nimport styles from \"./Comments.module.css\"\r\nimport transitionGroup from \"./TransitionGroup.module.css\"\r\n\r\nexport default function Comments(props) {\r\n  return (\r\n    <TransitionGroup component=\"ul\" className={styles.container}>\r\n      {props.comments.map((el) => {\r\n        return (\r\n          <CSSTransition key={el._id} timeout={500} classNames={transitionGroup}>\r\n            <li key={el._id} className={styles.itemForm}>\r\n              <div className={styles.wrapper}>\r\n                <p>\r\n                  <span className={styles.itemFormText}>Said: </span>\r\n                  {el.name}\r\n                </p>\r\n                <p>\r\n                  <span className={styles.itemFormText}>in </span> {el.time}\r\n                </p>\r\n              </div>\r\n              <p>\r\n                <span className={styles.itemFormText}>Comment: </span>\r\n                {el.comment}\r\n              </p>\r\n            </li>\r\n          </CSSTransition>\r\n        )\r\n      })}\r\n    </TransitionGroup>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from \"react\"\nimport GuestBook from \"./components/GuestBook/GuestBook.jsx\"\nimport Comments from \"./components/Comments/Comments.jsx\"\nimport styles from \"./App.module.css\"\nimport axios from \"axios\"\nimport { CSSTransition } from \"react-transition-group\"\nimport appAnimation from \"./AppAnimation.module.css\"\n\nexport default function App() {\n  const [comments, setComments] = useState([])\n  const [message, setMessage] = useState(\"\")\n  useEffect(() => {\n    axios\n      .get(\"/comments\")\n      .then((res) => {\n        this.setState({ comments: res.data.reverse() })\n      })\n      .catch((error) => console.log(error))\n  })\n\n  const hendlerCommentNew = (data) => {\n    const dataJSON = JSON.stringify(data)\n    axios\n      .post(\"/comments/add\", dataJSON, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n      .then((res) => {\n        this.state.comments.unshift(res.data)\n        this.setState({\n          comments: this.state.comments,\n          message: res.status,\n        })\n      })\n      .catch((error) => {\n        this.setState({\n          message: 400,\n        })\n      })\n  }\n\n  return (\n    <div className={styles.container}>\n      <h1 className={styles.title}>Welcome to the guest book!</h1>\n      <GuestBook hendlerCommentNew={hendlerCommentNew} message={setMessage} />\n      {\n        <CSSTransition in={!!comments[0]} classNames={appAnimation} timeout={250} unmountOnExit>\n          <Comments comments={comments} />\n        </CSSTransition>\n      }\n    </div>\n  )\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App />,\n  // {/* </React.StrictMode>, */}\n  document.getElementById(\"root\")\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"GuestBook_form__EwsHX\",\"textareaForm\":\"GuestBook_textareaForm__2AXG2\",\"inputForm\":\"GuestBook_inputForm__3MXba\",\"buttonForm\":\"GuestBook_buttonForm__1CC4z\",\"labelCommentForm\":\"GuestBook_labelCommentForm__2SIMd\",\"advertising\":\"GuestBook_advertising__3rnlC\",\"advertisingTextOk\":\"GuestBook_advertisingTextOk__1ohN-\",\"advertisingTextError\":\"GuestBook_advertisingTextError__RANYI\",\"spanFormNameError\":\"GuestBook_spanFormNameError__zUqEC\",\"spanFormCommentError\":\"GuestBook_spanFormCommentError__3JCix\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__399jS\",\"title\":\"App_title__jqDEk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"TransitionGroup_enter__1KFSL\",\"enterActive\":\"TransitionGroup_enterActive__2ExOF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"AppAnimation_enter__METXN\",\"enterActive\":\"AppAnimation_enterActive__woHMl\"};"],"sourceRoot":""}